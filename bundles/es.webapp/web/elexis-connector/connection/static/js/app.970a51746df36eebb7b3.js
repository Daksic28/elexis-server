webpackJsonp([1],{"9p3w":function(e,t,n){e.exports=n.p+"static/img/elexis.aa67d00.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),s=n("PgFV"),a=n.n(s);n("zO+5");function i(e){"postgresql"===e.toLowerCase()?(this.model.rdbmsType="PostgreSQL",this.model.port="5432"):"mysql"===e.toLowerCase()?(this.model.rdbmsType="MYSQL",this.model.port="3306"):"h2"===e.toLowerCase()&&(this.model.rdbmsType="H2",this.model.port=""),this.model.connectionString="jdbc:"+this.model.rdbmsType.toLowerCase()+"://"+this.model.hostName+(""!==this.model.port?":"+this.model.port:"")+"/"+this.model.databaseName+"?useSSL=false"}var r={name:"DatabaseConfiguration",components:{"vue-form-generator":a.a.component},methods:{submitFunction:function(){var e=this;e.submitInfo=null,this.axios.post("/services/elexis-connector/connection",this.model).then(function(t){e.submitInfo=t,location.reload()}).catch(function(t){console.log(t),e.submitInfo=response})}},watch:{"model.rdbmsType":i,"model.hostName":i,"model.port":i,"model.databaseName":i},data:function(){return{submitInfo:null,model:{rdbmsType:"MySQL",hostName:"localhost",port:"3306",databaseName:"elexisdb",username:"",password:"",connectionString:"jdbc:mysql://localhost:3306/elexisdb?useSSL=false"},schema:{fields:[{type:"select",label:"Database Management System",model:"rdbmsType",required:!0,values:function(){return[{id:"MySQL",name:"MySQL"},{id:"PostgreSQL",name:"PostgreSQL"},{id:"H2",name:"H2"}]}},{type:"input",inputType:"text",label:"Hostname",model:"hostName",required:!0},{type:"input",inputType:"text",label:"Port",model:"port"},{type:"input",inputType:"text",label:"Database name",model:"databaseName",required:!0},{type:"input",inputType:"text",label:"Username",model:"username",required:!0},{type:"input",inputType:"password",label:"Password",model:"password"},{type:"input",inputType:"text",label:"Connection string",model:"connectionString"},{type:"submit",buttonText:"Submit",onSubmit:this.submitFunction}]},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0}}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-body"},[n("vue-form-generator",{attrs:{schema:e.schema,model:e.model,options:e.formOptions}})],1)]),e._v(" "),e.submitInfo?n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-heading"},[e._v(e._s(e.submitInfo.data))])]):e._e()])},staticRenderFns:[]};var u={name:"App",asyncComputed:{dbStatus:function(){return this.axios.interceptors.response.use(function(e){return e},function(e){return e.response}),this.axios.get("/services/elexis-connector/connection").then(function(e){return e.status})}},components:{DatabaseConfiguration:n("VU/8")(r,l,!1,function(e){n("usv8")},null,null).exports}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("center",[o("img",{attrs:{src:n("9p3w")}})]),e._v(" "),o("h1",[e._v("Elexis-Server Database Connection Configuration")]),e._v(" "),204===e.dbStatus?o("div",[o("DatabaseConfiguration")],1):401===e.dbStatus?o("div",[o("h3",[e._v("Database already configured, re-configuration currently not supported")])]):o("div",[o("h3",[e._v("Unsupported status: "+e._s(e.dbStatus)+" ")])])],1)},staticRenderFns:[]};var p=n("VU/8")(u,d,!1,function(e){n("v4MH")},null,null).exports,m=n("mtWM"),c=n.n(m),b=n("PlbA"),f=n.n(b),h=n("Rf8U"),v=n.n(h);o.a.config.productionTip=!1,o.a.use(f.a),o.a.use(v.a,c.a),new o.a({el:"#app",components:{App:p},template:"<App/>"})},usv8:function(e,t){},v4MH:function(e,t){},"zO+5":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.970a51746df36eebb7b3.js.map